<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Switch Play YouTube Shorts</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #111;
      overflow: hidden;
      flex-direction: column; /* ƒë·ªÉ counter n·∫±m tr√™n n√∫t */
    }

    /* V·ªã tr√≠ hi·ªÉn th·ªã s·ªë l∆∞·ª£t */
    #counter {
      color: white;
      font-size: 18px;
      margin-bottom: 15px;
      font-family: Arial, sans-serif;
    }

    /* Video YouTube */
    #yt-player {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      display: none; /* ·∫®n ban ƒë·∫ßu */
      z-index: -1;
    }

    /* Gi·ªØ nguy√™n hi·ªáu ·ª©ng n√∫t c·ªßa b·∫°n */
    #checkbox {
      display: none;
    }
    .switch {
      position: relative;
      width: 70px;
      height: 70px;
      background-color: rgb(99, 99, 99);
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid rgb(126, 126, 126);
      box-shadow: 0px 0px 3px rgb(2, 2, 2) inset;
      z-index: 1;
    }
    .switch svg {
      width: 1.2em;
    }
    .switch svg path {
      fill: rgb(48, 48, 48);
    }
    #checkbox:checked + .switch {
      box-shadow: 0px 0px 1px rgb(151, 243, 255) inset,
        0px 0px 2px rgb(151, 243, 255) inset,
        0px 0px 10px rgb(151, 243, 255) inset,
        0px 0px 40px rgb(151, 243, 255),
        0px 0px 100px rgb(151, 243, 255),
        0px 0px 5px rgb(151, 243, 255);
      border: 2px solid rgb(255, 255, 255);
      background-color: rgb(146, 180, 184);
    }
    #checkbox:checked + .switch svg {
      filter: drop-shadow(0px 0px 5px rgb(151, 243, 255));
    }
    #checkbox:checked + .switch svg path {
      fill: rgb(255, 255, 255);
    }
  </style>
</head>
<body>
  <!-- Hi·ªÉn th·ªã s·ªë l∆∞·ª£t -->
  <div id="counter">ƒêang t·∫£i l∆∞·ª£t truy c·∫≠p...</div>

  <!-- Video Shorts -->
  <iframe id="yt-player"
    src="https://www.youtube.com/embed/SXHMnicI6Pg?enablejsapi=1"
    allow="autoplay; encrypted-media"
    allowfullscreen>
  </iframe>

  <!-- N√∫t switch -->
  <input type="checkbox" id="checkbox" />
  <label for="checkbox" class="switch" id="switch-btn">
    <svg viewBox="0 0 24 24">
      <path d="M12 2L15 8H9L12 2Z"></path>
    </svg>
  </label>

  <script>
    let player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('yt-player');
    }

    const checkbox = document.getElementById("checkbox");
    const ytFrame = document.getElementById("yt-player");
    const switchBtn = document.getElementById("switch-btn");
    const counterBox = document.getElementById("counter");

    // Khi b·∫•m n√∫t
    checkbox.addEventListener("change", () => {
      if (checkbox.checked) {
        ytFrame.style.display = "block"; // hi·ªán video
        switchBtn.style.display = "none"; // ·∫©n n√∫t
        counterBox.style.display = "none"; // ·∫©n s·ªë l∆∞·ª£t
        player.playVideo(); // ph√°t video
      }
    });

    // T·∫£i YouTube IFrame API
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // G·ªçi API ƒë·∫øm l∆∞·ª£t truy c·∫≠p (d√πng namespace ri√™ng)
    fetch("https://api.countapi.xyz/hit/phucthinh-website-2025/visits")
      .then(res => res.json())
      .then(data => {
        counterBox.innerText = "T·ªïng s·ªë l∆∞·ª£t truy c·∫≠p: " + data.value;
      })
      .catch(err => {
        counterBox.innerText = "Kh√¥ng th·ªÉ t·∫£i s·ªë l∆∞·ª£t üò¢";
        console.error(err);
      });
  </script>
</body>
</html>
